<form class="form-horizontal" [formGroup]="formulario" (ngSubmit)="onSubmit()">
  <div class="form-group" [ngClass]="aplicaCSSDeErro('nome')">

    <label for="nome" class="form-control-label">Name</label>
    <input type="text" class="form-control" id="nome" placeholder="Enter your name" formControlName="nome" />
    <app-error-msg [control]="formulario.get('nome')" labelField="Nome">
    </app-error-msg>
  </div>



  <div class="form-group" [ngClass]="aplicaCSSDeErro('email')">

    <label for="email" class="form-control-label">Email</label>
    <input type="email" class="form-control" id="email" placeholder="name@email.com" formControlName="email" />
    <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('email')" msgErro="Email is mandatory">
    </app-field-control-erro>
    <app-field-control-erro [mostraErro]="verificaEmailInvalido()" msgErro="Email is invalid">
    </app-field-control-erro>
    <app-field-control-erro [mostraErro]="formulario.get('email').status === 'PENDING'" msgErro="Checking email ... ">
    </app-field-control-erro>
    <app-field-control-erro [mostraErro]="formulario.get('email').status === 'VALID'" msgErro="Email is valid ... ">
    </app-field-control-erro>
    <app-field-control-erro [mostraErro]="formulario.get('email').hasError('emailInvalido')"
      msgErro="Email is inserted on DB ... ">
    </app-field-control-erro>

  </div>

  <div class="form-group" [ngClass]="aplicaCSSDeErro('confirmEmail')">

    <label for="confirmEmail" class="form-control-label">Confirmar Email</label>
    <input type="confirmEmail" class="form-control" id="confirmEmail" placeholder="name@email.com"
      formControlName="confirmEmail" />
    <app-field-control-erro [mostraErro]="formulario.get('confirmEmail').hasError('equalsTo')"
      msgErro="Emails not match">
    </app-field-control-erro>


  </div>

  <div formGroupName="endereco">
    <div class="form-row ">

      <div class="col-md-3 form-group">
        <label for="cep" class="conrol-label">CEP</label>
        <input type="text" class="form-control" id="cep" formControlName="cep"
          [ngClass]="aplicaCSSDeErro('endereco.cep')" (blur)="consultaCEP()" />

        <app-field-control-erro [mostraErro]="verificaRequired('endereco.cep')" msgErro="CEP is mandatory">
        </app-field-control-erro>

        <app-field-control-erro [mostraErro]="formulario.get('endereco.cep').hasError('cepInvalido')"
          msgErro="CEP is invalid">
        </app-field-control-erro>
        <!-- <div *ngIf="!cep.valid && cep.touched" class="alert alert-danger" role="alert">
              CEP is mandatory
            </div>   -->

      </div>

      <div class="col-md-4 form-group">
        <label for="numero" class="conrol-label">Número</label>
        <input type="text" class="form-control" id="numero" formControlName="numero"
          [ngClass]="aplicaCSSDeErro('endereco.numero')" />

        <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('endereco.numero')"
          msgErro="Número is mandatory">
        </app-field-control-erro>

        <!-- <div *ngIf="!numero.valid && numero.touched" class="alert alert-danger" role="alert">
                Numero is mandatory
              </div>   -->

      </div>

      <div class="col-md-5 form-group ">
        <label for="complemento" class="conrol-label">Complemento</label>
        <input type="text" class="form-control" id="complemento" formControlName="complemento" />

      </div>

    </div>


    <div class="form-group">


      <label for="rua" class="form-control-label">Rua</label>

      <input type="rua" class="form-control" id="rua" placeholder="Avenida, Rua, Beco, Travessa, Passeio, etc"
        [ngClass]="aplicaCSSDeErro('endereco.rua')" formControlName="rua" />

      <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('endereco.rua')" msgErro="Rua is mandatory">
      </app-field-control-erro>

      <!-- <div *ngIf="!rua.valid && rua.touched" class="alert alert-danger" role="alert">
              Rua is mandatory
            </div>       -->

    </div>


    <div class="form-row ">

      <div class="col-md-3 form-group ">
        <label for="bairro" class="conrol-label">Bairro</label>
        <input type="text" class="form-control" id="bairro" formControlName="bairro"
          [ngClass]="aplicaCSSDeErro('endereco.bairro')" />

        <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('endereco.bairro')"
          msgErro="Bairro is mandatory">
        </app-field-control-erro>
        <!-- <div *ngIf="!bairro.valid && bairro.touched" class="alert alert-danger" role="alert">
              Bairro is mandatory
            </div>   -->

      </div>

      <div class="col-md-5 form-group ">
        <label for="cidade" class="conrol-label">Cidade</label>
        <input type="text" class="form-control" id="cidade" formControlName="cidade"
          [ngClass]="aplicaCSSDeErro('endereco.cidade')" readonly />

        <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('endereco.cidade')"
          msgErro="Cidade is mandatory">
        </app-field-control-erro>
        <!-- <div *ngIf="!cidade.valid && cidade.touched" class="alert alert-danger" role="alert">
                Cidade is mandatory
              </div>   -->

      </div>

      <div class="col-md-4 form-group ">
        <label for="estado" class="conrol-label">Estado</label>
        <select class="form-control" id="estado" formControlName="estado">
          <option *ngFor="let estado of estados" [value]="estado.sigla">{{ estado.nome }}</option>
        </select>

        <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('endereco.estado')"
          msgErro="Estado is mandatory">
        </app-field-control-erro>

        <!-- <div *ngIf="!estado.valid && estado.touched" class="alert alert-danger" role="alert">
                Estado is mandatory
              </div>   -->

      </div>
    </div>
  </div>
  <div class="row">

    <div class="col-md-4 form-group">
      <label for="tecnologia" class="control-label">Tecnologia</label>
      <select multiple class="form-control" id="tecnologia" formControlName="tecnologia"
        [compareWith]="compararTecnologias" (change)="setarTecnologia()">
        <option *ngFor="let tecnologia of tecnologias" [value]="tecnologia.nome">{{ tecnologia.desc }}</option>
      </select>
    </div>

    <div class="col-md-4 form-group">
      <label for="cargo" class="control-label">Cargo</label>
      <select class="form-control" id="cargo" formControlName="cargo" [compareWith]="compararCargos"
        (change)="setarCargo()" [ngClass]="aplicaCSSDeErro('cargo')">
        <option *ngFor="let cargo of cargos" [ngValue]="cargo">{{ cargo.desc }}</option>
      </select>
    </div>

    <div class="col-md-4 form-group">
      <label for="newsletter" class="control-label">NewsLetter</label>
      <div class="" id="newsletter">
        <div class="col-sm 4" *ngFor="let item of newsletterOp">
          <label class="">
            <input type="radio" formControlName="newsletter" [value]="item.nome" /> {{ item.desc }}
          </label>
        </div>

      </div>
    </div>
  </div>
  <div class="form-group">

    <div class="col-md-4 form-check form-check-inline">
      <input class="form-check-input" type="checkbox" id="inlineCheckbox1" formControlName="termos"
        [ngClass]="aplicaCSSDeErro('termos')" />
      <label class="form-check-label" for="inlineCheckbox1">Aceito os termos</label>

      <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('termos')" msgErro="Aceite os termos">
      </app-field-control-erro>
    </div>


    <div class="col-md-4 form-check form-check-inline ">

      <div id="frameworks">
        <label class="row control-label" for="frameworks">Frameworks</label>
        <div class="form-check form-check-inline col-sm-4" formArrayName="frameworks"
          *ngFor="let item of formulario.get('frameworks')['controls']; let i = index;">
          <input class="form-check-input " type="checkbox" id="inlineCheckbox2" [formControlName]="i">
          <label class="form-check-label " for="inlineCheckbox2">{{ frameworks[i] }}</label>

        </div>
        <app-field-control-erro [mostraErro]="verificaIfFieldValidAndTouched('frameworks')"
          msgErro="Selecione 2 opcoes">
        </app-field-control-erro>

      </div>

    </div>


  </div>


  <button type="submit" class="btn btn-primary">Submit</button>
  <button type="button" class="btn btn-default" (click)="resetarForm()">Limpar</button>
  <button type="button" class="btn btn-info" (click)="setarCargo()">Setar Cargo</button>
  <button type="button" class="btn btn-info" (click)="setarTecnologia()">Setar Tecnologia</button>
  <app-form-debug [form]="formulario"></app-form-debug>

</form>